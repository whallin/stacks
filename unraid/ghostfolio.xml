<?xml version="1.0"?>
<Container version="2">
    <!-- IMAGE -->
    <Name>ghostfolio</Name>
    <Repository>ghostfolio/ghostfolio:2</Repository>
    <Registry>https://hub.docker.com/r/ghostfolio/ghostfolio</Registry>

    <!-- CONTAINER SETTINGS -->
    <Network>host</Network> <!-- host or bridge -->
    <Shell>sh</Shell>
    <Privileged>false</Privileged>

    <!-- TEMPLATE INFORMATION -->
    <Support>https://github.com/ghostfolio/ghostfolio/issues</Support>
    <Project>https://github.com/ghostfolio/ghostfolio</Project>
    <ReadMe>https://github.com/ghostfolio/ghostfolio</ReadMe>
    <Overview>Ghostfolio is an open source wealth management software built with web technology.</Overview>
    <Category>Productivity: Tools:</Category>
    <WebUI>http://[IP]:[PORT:3333]/</WebUI>
    <TemplateURL>https://raw.githubusercontent.com/whallin/stacks/main/unraid/ghostfolio.xml</TemplateURL>
    <Icon>https://cdn.jsdelivr.net/gh/selfhst/icons/png/ghostfolio.png</Icon>

    <!-- CONTAINER FLAGS -->
    <ExtraParams>--init --no-healthcheck --restart=unless-stopped</ExtraParams>

    <!-- ADDITIONAL REQUIREMENTS -->
    <Requires>Ghostfolio requires:&#xD;
        - A PostgreSQL-compatible database&#xD;
        - A Redis-compatible database</Requires>

    <!-- MOUNTED PATHS -->
    <Config Name="Local Time" Target="/etc/localtime" Default="/etc/localtime" Mode="ro"
        Description="Container's local time from host" Type="Path" Display="advanced"
        Required="false" Mask="false">/etc/localtime</Config>

    <!-- PORT MAPPINGS -->
    <Config Name="Web UI Port" Target="3333" Default="3333" Mode="tcp"
        Description="Web UI Port for Ghostfolio" Type="Port" Display="always" Required="true"
        Mask="false">3333</Config>

    <!-- ENVIRONMENT VARIABLES -->
    <Config Name="ACCESS_TOKEN_SALT" Target="ACCESS_TOKEN_SALT" Default="salt" Mode=""
        Description="Random string used as salt for access tokens" Type="Variable" Display="always"
        Required="true" Mask="true">salt</Config>
    <Config Name="DATABASE_URL" Target="DATABASE_URL"
        Default="postgresql://ghostfolio:password@localhost:5432/ghostfolio" Mode=""
        Description="PostgreSQL connection URL" Type="Variable" Display="always" Required="true"
        Mask="false">postgresql://ghostfolio:password@localhost:5432/ghostfolio</Config>
    <Config Name="JWT_SECRET_KEY" Target="JWT_SECRET_KEY" Default="key" Mode=""
        Description="Random string used for JSON Web Tokens (JWT)" Type="Variable" Display="always"
        Required="true" Mask="true">key</Config>
    <Config Name="REDIS_DB" Target="REDIS_DB" Default="0" Mode="" Description="Redis database index"
        Type="Variable" Display="advanced" Required="true" Mask="false">0</Config>
    <Config Name="REDIS_HOST" Target="REDIS_HOST" Default="localhost" Mode=""
        Description="Redis database host" Type="Variable" Display="always" Required="true"
        Mask="false">localhost</Config>
    <Config Name="REDIS_PASSWORD" Target="REDIS_PASSWORD" Default="password" Mode=""
        Description="Redis database password" Type="Variable" Display="always" Required="true"
        Mask="true">password</Config>
    <Config Name="REDIS_PORT" Target="REDIS_PORT" Default="6379" Mode=""
        Description="Redis database port" Type="Variable" Display="always" Required="true"
        Mask="false">6379</Config>
</Container>