<?xml version="1.0"?>
<Container version="2">
    <!-- IMAGE -->
    <Name>immich-power-tools</Name>
    <Repository>ghcr.io/varun-raj/immich-power-tools:latest</Repository>
    <Registry>https://github.com/varun-raj/immich-power-tools/pkgs/container/immich-power-tools</Registry>

    <!-- CONTAINER SETTINGS -->
    <Network>bridge</Network> <!-- host or bridge -->
    <Shell>sh</Shell>
    <Privileged>false</Privileged>

    <!-- TEMPLATE INFORMATION -->
    <Support>https://github.com/varun-raj/immich-power-tools/issues</Support>
    <Project>https://github.com/varun-raj/immich-power-tools</Project>
    <ReadMe>https://github.com/varun-raj/immich-power-tools</ReadMe>
    <Overview>Power tools for organizing your immich library</Overview>
    <Category>Tools:</Category>
    <WebUI>http://[IP]:[PORT:3000]/</WebUI>
    <TemplateURL>
        https://raw.githubusercontent.com/whallin/stacks/develop/unraid/immich-power-tools.xml</TemplateURL>
    <Icon>https://cdn.jsdelivr.net/gh/selfhst/icons/png/immich-power-tools.png</Icon>

    <!-- CONTAINER FLAGS -->
    <ExtraParams>--init --no-healthcheck --restart=unless-stopped</ExtraParams>

    <!-- MOUNTED PATHS -->
    <Config Name="Local Time" Target="/etc/localtime" Default="/etc/localtime" Mode="ro"
        Description="Container's local time from host" Type="Path" Display="advanced"
        Required="false" Mask="false">/etc/localtime</Config>

    <!-- PORT MAPPINGS -->
    <Config Name="Web UI Port" Target="3000" Default="3000" Mode="tcp"
        Description="Web UI port for Immich Power Tools"
        Type="Port"
        Display="always" Required="true" Mask="false">3000</Config>

    <!-- ENVIRONMENT VARIABLES -->
    <Config Name="IMMICH_URL" Target="IMMICH_URL" Default="http://local-ip-of-immich:port" Mode=""
        Description="URL of the Immich server"
        Type="Variable" Display="always" Required="true" Mask="false">http://local-ip-of-immich:port</Config>
    <Config Name="IMMICH_API_KEY" Target="IMMICH_API_KEY" Default="" Mode=""
        Description="API key for the Immich server"
        Type="Variable" Display="always" Required="true" Mask="true"></Config>
    <Config Name="EXTERNAL_IMMICH_URL" Target="EXTERNAL_IMMICH_URL"
        Default="https://external-address" Mode=""
        Description="External URL of the Immich server"
        Type="Variable" Display="always" Required="true" Mask="false">https://external-address</Config>
    <Config Name="DB_USERNAME" Target="DB_USERNAME" Default="postgres" Mode=""
        Description="Database username"
        Type="Variable" Display="always" Required="true" Mask="false">postgres</Config>
    <Config Name="DB_PASSWORD" Target="DB_PASSWORD" Default="postgres" Mode=""
        Description="Database password"
        Type="Variable" Display="always" Required="true" Mask="true">postgres</Config>
    <Config Name="DB_HOST" Target="DB_HOST" Default="172.17.0.1" Mode="" Description="Database host"
        Type="Variable" Display="always" Required="true" Mask="false">172.17.0.1</Config>
    <Config Name="DB_PORT" Target="DB_PORT" Default="5432" Mode="" Description="Database port"
        Type="Variable" Display="always" Required="true" Mask="false">5432</Config>
    <Config Name="DB_DATABASE_NAME" Target="DB_DATABASE_NAME" Default="postgres" Mode=""
        Description="Database name"
        Type="Variable" Display="always" Required="true" Mask="false">postgres</Config>
    <Config Name="GOOGLE_MAPS_API_KEY" Target="GOOGLE_MAPS_API_KEY" Default="" Mode=""
        Description="Google Maps API key"
        Type="Variable" Display="always" Required="false" Mask="true"></Config>
    <Config Name="GEMINI_API_KEY" Target="GEMINI_API_KEY" Default="" Mode=""
        Description="Gemini API key"
        Type="Variable" Display="always" Required="false" Mask="true"></Config>
</Container>